@using Tkd.Simsa.Domain.EventManagement
@attribute [Route($"{RouteConstants.EventManagement}/add")]
@attribute [Route($"{RouteConstants.EventManagement}/edit/{{ItemId:guid}}")]

<DefaultEditComponent TItem="Event"
                      TEditItem="EventEditItem"
                      ItemType="ItemTypes.Event"
                      ItemId="ItemId">
    <FormContent>
        <MudTextField Label="Id"
                      ReadOnly="true"
                      Value="@context.Source.Id"
                      Variant="ThemeProvider.Variant" />
        <MudTextField Label="Name"
                      Required="true"
                      @bind-Value="@context.Name"
                      Variant="ThemeProvider.Variant" />
        <MudDatePicker Label="Start Date"
                       Required="true"
                       @bind-Date="@context.StartDate"
                       Variant="ThemeProvider.Variant" />
        <MudTextField AutoGrow="true"
                      Label="Description"
                      Lines="3"
                      MaxLines="7"
                      @bind-Value="@context.Description"
                      Variant="ThemeProvider.Variant" />

        <ParticipantsFormComponent @bind-Participants="@context.Participants" />
    </FormContent>
</DefaultEditComponent>

@code{

    [Parameter]
    public Guid? ItemId { get; set; }

    [CascadingParameter]
    public ThemeProvider ThemeProvider { get; set; } = null!;

}